<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="img/a2.png">
    <title>Contact Us - Zamboanga Sibugay National High School</title>
    <style>
    /* ===== CSS Variables ===== */
    :root {
        --primary: #a40028;
        --secondary: #8B0000;
        --accent: #FFD700;
        --light: #F8F9FA;
        --dark: #212529;
        --transition: all 0.3s ease;
    }

    /* ===== Base Styles ===== */
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: var(--dark);
        background-color: #f5f5f5;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
    }

    /* ===== Header Styles ===== */
    .top-bar { background: var(--primary); color: white; padding: 10px 30px; font-size: 0.9em; display: flex; justify-content: center; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .top-bar i { margin-right: 8px; color: var(--accent); }
    .logo-bar { display: flex; justify-content: space-between; align-items: center; background-color: white; padding: 20px 30px; min-height: 200px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); position: relative; }
    .logo-bar::before { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 4px; background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent)); }
    .logo-container { display: flex; align-items: center; width: 25%; }
    .left-logo { justify-content: flex-end; padding-right: 30px; }
    .right-logo { justify-content: flex-start; padding-left: 30px; }
    .zsnhs-logo, .deped-logo { height: 150px; width: auto; object-fit: contain; max-width: 220px; transition: var(--transition); }
    .title-container { display: flex; align-items: center; justify-content: center; flex: 1; padding: 0 20px; }
    .school-name { text-align: center; }
    .school-name h1 { color: var(--primary); font-size: 2.5em; margin: 0; font-weight: 800; line-height: 1.2; text-transform: uppercase; transition: var(--transition); }
    .school-name p { color: var(--secondary); font-size: 1.1em; font-weight: 600; font-style: italic; margin-top: 8px; }

    /* ===== Navigation Styles ===== */
    nav { background: linear-gradient(135deg, var(--primary), #002244); position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
    .nav-links { display: flex; list-style: none; justify-content: center; padding: 0 30px; margin: 0; }
    .nav-links > li { position: relative; }
    .nav-links > li:hover .dropdown-menu { display: block; }
    .nav-links a { color: white; text-decoration: none; font-weight: 600; text-transform: uppercase; font-size: 0.85em; letter-spacing: 1px; padding: 18px 22px; display: block; transition: var(--transition); }
    .nav-links a:hover { color: var(--accent); }
    .dropdown-menu { display: none; position: absolute; top: 100%; left: 0; background-color: white; min-width: 200px; box-shadow: 0 8px 16px rgba(0,0,0,0.1); z-index: 1; border-radius: 0 0 4px 4px; overflow: hidden; }
    .dropdown-menu li { border-bottom: 1px solid #f0f0f0; }
    .dropdown-menu li:last-child { border-bottom: none; }
    .dropdown-menu a { color: var(--dark); padding: 12px 20px; text-transform: none; }
    .dropdown-menu a:hover { background-color: var(--primary); color: white; }
    .mobile-menu-toggle { display: none; background: none; border: none; color: white; font-size: 1.5em; cursor: pointer; padding: 10px; }

    /* ===== Main Content Styles ===== */
    main { flex: 1; }
    .main-content { padding: 40px; max-width: 1200px; margin: 30px auto; background: white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); position: relative; transition: var(--transition); }
    .decorative-corner { position: absolute; width: 150px; height: 150px; background: linear-gradient(45deg, var(--primary), transparent); top: 0; right: 0; clip-path: polygon(0 0, 100% 100%, 100% 0); opacity: 0.1; }
    .contact-section { margin-bottom: 50px; animation: fadeIn 0.6s ease-out forwards; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .main-content h1 { color: var(--primary); font-size: 2.8em; margin-bottom: 25px; position: relative; padding-bottom: 15px; transition: var(--transition); }
    .main-content h1::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100px; height: 4px; background: var(--accent); border-radius: 2px; }
    .main-content h2 { color: var(--secondary); font-size: 2em; margin-top: 40px; margin-bottom: 20px; position: relative; padding-left: 20px; transition: var(--transition); }
    .main-content h2::before { content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 8px; height: 30px; background: var(--primary); border-radius: 4px; }
    .contact-links { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 30px; justify-content: center; }
    .contact-link { background: linear-gradient(135deg, var(--primary), #002244); color: white; padding: 12px 25px; border-radius: 30px; text-transform: uppercase; font-weight: 600; text-decoration: none; transition: var(--transition); box-shadow: 0 4px 8px rgba(0,0,0,0.1); letter-spacing: 1px; font-size: 0.85em; display: flex; align-items: center; cursor: pointer; text-align: center; flex: 1; min-width: 200px; justify-content: center; }
    .contact-link i { margin-right: 10px; font-size: 1.1em; }
    .contact-link:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(0,0,0,0.15); background: linear-gradient(135deg, #002244, var(--primary)); }
    .office-info { margin-top: 30px; background-color: var(--light); padding: 25px; border-radius: 8px; border-left: 4px solid var(--accent); box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: var(--transition); }
    .office { margin-bottom: 30px; padding: 20px; background-color: white; border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border-top: 3px solid var(--primary); transition: var(--transition); }
    .office:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
    .office h3 { color: var(--primary); margin-bottom: 15px; font-size: 1.4em; font-weight: 700; display: flex; align-items: center; transition: var(--transition); }
    .office h3 i { margin-right: 10px; color: var(--secondary); }
    .contact-method { margin-bottom: 12px; display: flex; align-items: flex-start; font-size: 1.05em; transition: var(--transition); }
    .contact-method i { width: 25px; color: var(--primary); margin-right: 10px; text-align: center; margin-top: 2px; }

    /* ===== Footer Styles ===== */
    footer { background: linear-gradient(135deg, var(--primary), #a40028); color: white; padding: 40px 30px; text-align: center; }
    .footer-container { max-width: 1200px; margin: 0 auto; }
    .academic-programs { margin-bottom: 40px; text-align: left; }
    .academic-programs h2 { color: var(--accent); font-size: 1.8em; margin-bottom: 20px; text-align: center; transition: var(--transition); }
    .programs-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
    .program-card { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 8px; transition: var(--transition); text-align: center; }
    .program-card:hover { transform: translateY(-5px); background: rgba(255,255,255,0.15); }
    .program-card h3 { color: var(--accent); margin-bottom: 10px; transition: var(--transition); }
    .quick-links { margin-bottom: 30px; }
    .quick-links h3 { color: var(--accent); margin-bottom: 15px; transition: var(--transition); }
    .footer-links { display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; }
    .footer-links a { color: white; text-decoration: none; transition: var(--transition); padding: 5px 10px; }
    .footer-links a:hover { color: var(--accent); transform: translateY(-2px); }
    .copyright { margin-top: 30px; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 20px; font-size: 0.9em; }

    /* ===== Enhanced Responsive Design ===== */
    @media (min-width: 1200px) { .main-content { padding: 50px; margin: 40px auto; } .contact-links { gap: 20px; } .contact-link { padding: 15px 30px; font-size: 0.9em; } }
    @media (max-width: 1199px) { .school-name h1 { font-size: 2.2em; } .main-content h1 { font-size: 2.4em; } .main-content h2 { font-size: 1.8em; } }
    @media (max-width: 991px) { .top-bar { padding: 12px 20px; font-size: 0.85em; } .logo-bar { padding: 20px; min-height: 180px; } .zsnhs-logo, .deped-logo { height: 120px; max-width: 180px; } .school-name h1 { font-size: 1.8em; } .main-content { padding: 30px 25px; margin: 25px 20px; } .main-content h1 { font-size: 2.2em; } .main-content h2 { font-size: 1.6em; } .contact-links { gap: 12px; } .contact-link { padding: 12px 20px; font-size: 0.8em; min-width: 160px; } .office h3 { font-size: 1.3em; } .programs-grid { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px; } }
    @media (max-width: 767px) { .top-bar { flex-direction: column; gap: 8px; padding: 12px 15px; text-align: center; font-size: 0.8em; } .top-bar i { margin-right: 5px; } .logo-bar { flex-direction: column; gap: 15px; padding: 15px; min-height: auto; } .logo-container { width: 100%; justify-content: center; padding: 0 !important; } .zsnhs-logo, .deped-logo { height: 100px; max-width: 150px; } .school-name h1 { font-size: 1.6em; line-height: 1.3; } .nav-links { display: none; flex-direction: column; padding: 0; width: 100%; } .nav-links.active { display: flex; } .nav-links > li { width: 100%; text-align: center; border-bottom: 1px solid rgba(255,255,255,0.1); } .nav-links > li:last-child { border-bottom: none; } .dropdown-menu { position: static; width: 100%; box-shadow: none; border-radius: 0; display: none; background-color: rgba(255,255,255,0.95); } .dropdown-menu.active { display: block; } .mobile-menu-toggle { display: block; position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } nav { position: relative; padding: 10px 0; } .main-content { padding: 25px 20px; margin: 20px 15px; } .main-content h1 { font-size: 2em; text-align: center; } .main-content h1::after { left: 50%; transform: translateX(-50%); } .main-content h2 { font-size: 1.5em; padding-left: 15px; margin-top: 30px; } .contact-links { flex-direction: column; gap: 10px; } .contact-link { width: 100%; min-width: auto; padding: 15px 20px; font-size: 0.85em; } .office-info { padding: 20px; text-align: center; } .office { padding: 15px; text-align: center; } .office h3 { font-size: 1.2em; justify-content: center; } .contact-method { justify-content: center; text-align: center; font-size: 1em; } .programs-grid { grid-template-columns: 1fr; gap: 15px; } .program-card { padding: 15px; } .footer-links { flex-direction: column; gap: 10px; } footer { padding: 30px 20px; } }
    @media (max-width: 575px) { .top-bar { padding: 10px 12px; font-size: 0.75em; } .logo-bar { padding: 12px; } .zsnhs-logo, .deped-logo { height: 80px; max-width: 120px; } .school-name h1 { font-size: 1.4em; } .main-content { padding: 20px 15px; margin: 15px 10px; } .main-content h1 { font-size: 1.8em; margin-bottom: 20px; } .main-content h2 { font-size: 1.4em; padding-left: 12px; margin-top: 25px; margin-bottom: 15px; } .main-content h2::before { width: 6px; height: 25px; } .contact-link { padding: 12px 15px; font-size: 0.8em; } .office-info { padding: 15px; margin-top: 20px; } .office { padding: 12px; margin-bottom: 20px; } .office h3 { font-size: 1.1em; margin-bottom: 12px; } .contact-method { font-size: 0.95em; margin-bottom: 10px; flex-direction: column; align-items: center; gap: 5px; } .contact-method i { margin-right: 0; margin-bottom: 5px; } .academic-programs h2 { font-size: 1.5em; } .program-card h3 { font-size: 1.1em; } .program-card p { font-size: 0.9em; } .quick-links h3 { font-size: 1.1em; } .copyright { font-size: 0.8em; } }
    @media (max-width: 374px) { .school-name h1 { font-size: 1.2em; } .main-content h1 { font-size: 1.6em; } .main-content h2 { font-size: 1.3em; } .contact-link { padding: 10px 12px; font-size: 0.75em; } .office h3 { font-size: 1em; } .contact-method { font-size: 0.9em; } .program-card { padding: 12px; } }
    @media (max-height: 500px) and (orientation: landscape) { .logo-bar { min-height: 150px; padding: 10px 20px; } .zsnhs-logo, .deped-logo { height: 80px; } .school-name h1 { font-size: 1.4em; } .main-content { padding: 20px; margin: 15px auto; } }
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) { .contact-link, .office, .program-card { transform: translateZ(0); } }
    @media print { .top-bar, nav, .contact-links, .decorative-corner, footer { display: none; } .main-content { box-shadow: none; margin: 0; padding: 20px; } body { background: white; } }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <header>
        <div class="top-bar">
            <div id="school-info">
                <i class="fas fa-map-marker-alt"></i> <span id="school-address">Loading...</span>
                <i class="fas fa-phone"></i> <span id="school-phone">Loading...</span>
                <i class="fas fa-envelope"></i> <span id="school-email">Loading...</span>
            </div>
        </div>
        
        <div class="logo-bar">
            <div class="logo-container left-logo">
                <img src="img/zsnhs_logo.jpg" alt="ZSNHS Logo" class="zsnhs-logo">
            </div>
            
            <div class="title-container">
                <div class="school-name">
                    <h1 id="school-name">ZAMBOANGA SIBUGAY NATIONAL HIGH SCHOOL</h1>
                </div>
            </div>
            
            <div class="logo-container right-logo">
                <img src="img/deped_logo.jfif" alt="DepEd Logo" class="deped-logo">
            </div>
        </div>
        
        <nav>
            <ul class="nav-links">
                <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                <li>
                    <a href="#"><i class="fas fa-info-circle"></i> About Us <i class="fas fa-caret-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="VisMis.html"><i class="fas fa-bullseye"></i> Mission & Vision</a></li>
                        <li><a href="history.html"><i class="fas fa-landmark"></i> History</a></li>
                    </ul>
                </li>
              <li>
                    <a href="#"><i class="fas fa-info-circle"></i> Tracks <i class="fas fa-caret-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="tvl.html"><i class="fas fa-bullseye"></i> TVL Tracks </a></li>
                        <li><a href="academic.html"><i class="fas fa-landmark"></i> Academic Tracks </a></li>
                    </ul>
                </li>
                <li><a href="contact.html"><i class="fas fa-graduation-cap"></i> Contact</a></li>
                <li><a href="login.html"><i class="fas fa-user-shield"></i> MyACCOUNT</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="main-content">
            <div class="decorative-corner"></div>
            
            <div class="contact-section">
                <h1>Contact Us</h1>
                
                <p style="font-size: 1.1em; line-height: 1.8; margin-bottom: 20px;" id="welcome-message">We welcome your interest in our school! If your enquiry relates to enrolment please start here.</p>
                
                <div class="office-info">
                    <h3><i class="far fa-clock"></i> Office Opening Hours</h3>
                    <p style="font-size: 1.1em;" id="office-hours">We're open from 8.00am to 4.00pm, Monday to Friday during school terms (closed on public holidays).</p>
                </div>
            </div>
            
            <div class="contact-section" id="offices-container">
                </div>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="academic-programs">
                <h2>Our Academic Programs</h2>
                <div class="programs-grid" id="programs-container">
                    </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 Zamboanga Sibugay National High School. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // ==========================================
        // CONFIGURATION SECTION
        // ==========================================
        const firebaseConfig = {
           apiKey: "AIzaSyDlClfbOSKAhalafAQ4ptMRCHkaG-DxDd8",
           authDomain: "zsnhs-24e44.firebaseapp.com",
           databaseURL: "https://zsnhs-24e44-default-rtdb.firebaseio.com",
           projectId: "zsnhs-24e44",
           storageBucket: "zsnhs-24e44.firebasestorage.app",
           messagingSenderId: "39166648924",
           appId: "1:39166648924:web:d65f2e83e6143a5aff7c99",
           measurementId: "G-C9JMD4C5WB"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        document.addEventListener('DOMContentLoaded', function() {
            loadAllData();
        });

        // Load all data from the single contacts document
        async function loadAllData() {
            try {
                // Fetch the exact structure stored in the 'schoolData' document
                const doc = await db.collection('contacts').doc('schoolData').get();
                
                if (doc.exists) {
                    const data = doc.data();
                    console.log('Data loaded from Firestore:', data);
                    
                    if (data.schoolInfo) loadSchoolInfo(data.schoolInfo);
                    if (data.offices) loadOffices(data.offices);
                    if (data.academicPrograms) loadAcademicPrograms(data.academicPrograms);
                } else {
                    console.log('No data found in Firestore (contacts/schoolData)');
                    // Handle empty state if needed
                    document.getElementById('welcome-message').textContent = "Information currently unavailable.";
                }
            } catch (error) {
                console.error('Error loading data from Firestore:', error);
                document.getElementById('welcome-message').textContent = "Error loading content. Please check your connection.";
            }
        }

        // Load school information
        function loadSchoolInfo(schoolInfo) {
            if(!schoolInfo) return;
            document.getElementById('school-address').textContent = schoolInfo.address || '';
            document.getElementById('school-phone').textContent = schoolInfo.phone || '';
            document.getElementById('school-email').textContent = schoolInfo.email || '';
            document.getElementById('school-name').textContent = schoolInfo.name || '';
            document.getElementById('office-hours').textContent = schoolInfo.officeHours || '';
            document.getElementById('welcome-message').textContent = schoolInfo.welcomeMessage || '';
        }

        // Load offices
        function loadOffices(offices) {
            if(!offices) return;
            const container = document.getElementById('offices-container');
            
            let officesHTML = '';
            // Sort offices by order
            const sortedOffices = offices.sort((a, b) => a.order - b.order);
            
            sortedOffices.forEach(office => {
                officesHTML += createOfficeHTML(office);
            });
            
            container.innerHTML = officesHTML;
            
            // Add animation to office sections
            const officeElements = document.querySelectorAll('.office');
            officeElements.forEach((office, index) => {
                office.style.animationDelay = `${index * 0.1}s`;
            });
        }

        // Load academic programs
        function loadAcademicPrograms(programs) {
            if(!programs) return;
            const container = document.getElementById('programs-container');
            
            let programsHTML = '';
            // Sort programs by order
            const sortedPrograms = programs.sort((a, b) => a.order - b.order);
            
            sortedPrograms.forEach(program => {
                programsHTML += `
                    <div class="program-card">
                        <h3>${program.name}</h3>
                        <p>${program.description}</p>
                    </div>
                `;
            });
            
            container.innerHTML = programsHTML;
        }

        // Create HTML for an office
        function createOfficeHTML(office) {
            let html = `
                <div class="office">
                    <h3><i class="${office.icon || 'fas fa-building'}"></i> ${office.name}</h3>
            `;
            
            if (office.phone) {
                html += `<div class="contact-method"><i class="fas fa-phone"></i> Phone: ${office.phone}</div>`;
            }
            
            if (office.email) {
                html += `<div class="contact-method"><i class="fas fa-envelope"></i> Email: ${office.email}</div>`;
            }
            
            if (office.address) {
                html += `<div class="contact-method"><i class="fas fa-map-marker-alt"></i> Address: ${office.address}</div>`;
            }
            
            if (office.description) {
                html += `<div class="contact-method"><i class="fas fa-info-circle"></i> ${office.description}</div>`;
            }
            
            html += `</div>`;
            return html;
        }

        // Setup event listeners
        // Make contact links functional for demo purposes
        const contactLinks = document.querySelectorAll('.contact-link');
        contactLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const target = this.textContent.trim();
                alert(`You clicked on ${target}. This would normally link to the ${target} page.`);
            });
        });

        // Highlight current page in navigation
        function highlightCurrentPage() {
            const currentPage = window.location.pathname.split('/').pop();
            const navLinks = document.querySelectorAll('.nav-links a');
            
            navLinks.forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.style.color = 'var(--accent)';
                    link.style.fontWeight = '700';
                }
            });
        }
        highlightCurrentPage();
    </script>
</body>
</html>